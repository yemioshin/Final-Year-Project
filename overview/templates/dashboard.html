{% extends "base.html" %} 
{% block content %}
        <h1>{{ current_user.first_name|title }}'s Dashboard</h1>
        <hr> 
        {% for project in projects %}
        <div>
            <p><b>{{ project.number}}</b> {{ project.name }} : {{ project.type }}. Time: {{ project.time}}</p>
        </div>
        {% endfor %}
        <div class="row">
            
            <!--chart: total projects-->
            <div class="col s12 m6 l4">
              <div class="card color-panel">
                <div class="card-content">
                  <span class="card-title">Total Projects</span>
                  <span class="card-sub-title">Undertaken to Date</span>
                  <p id="project_count"></p>
                </div>
              </div>
            </div>
            
            <!--chart: total earnings-->
            <div class="col s12 m6 l4">
              <div class="card color-panel">
                <div class="card-content">
                  <span class="card-title">Total Estimated Time Spent</span>
                  <span class="card-sub-title">For All Projects</span>
                  <p id="time_count">Minutes : </p>
                </div>
              </div>
            </div>
            
            <!--chart: avg project value-->
            <div class="col s12 m6 l4">
              <div class="card color-panel">
                <div class="card-content">
                  <span class="card-title">Average Estimated Time Spent</span>
                  <span class="card-sub-title">Per Project</span>
                  <p id="time_average">Minutes : </p>
                </div>
              </div>
            </div>
            
            <!--chart: Subjects-->
            <div class="col s12">
              <div class="card color-panel">
                <div id="subject-card" class="card-content">
                     <span class="card-title">Projects by Subject</span>
                    <span class="card-sub-title">Showing Number of Projects by Subject recieved</span>
                  <p id="project-subjects"></p>
                </div>
              </div>
            </div>
            
        </div>
{% endblock %} 

{% block csslibraries %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.css"/>
{{ super() }}{% endblock %} 

{% block csscustom %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/charts.css')}}"/> 
{{ super() }}{% endblock %} 

{% block scriptlibraries %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.js"></script>
{{ super() }}{% endblock %} 

{% block scriptcustom %}
    <script src="{{ url_for('static', filename='js/charts.js')}}"></script>
{{ super() }} {% endblock %}